<!DOCTYPE html>
<html lang="en-US">
  <head>

    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Windup Documentation | Windup Documentation</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Windup Documentation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Windup Documentation" />
<meta property="og:description" content="Windup Documentation" />
<link rel="canonical" href="https://windup.github.io/windup-documentation/docs/getting-started-guide/topics/mta-using-openrewrite-recipes/" />
<meta property="og:url" content="https://windup.github.io/windup-documentation/docs/getting-started-guide/topics/mta-using-openrewrite-recipes/" />
<meta property="og:site_name" content="Windup Documentation" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Windup Documentation" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Windup Documentation","headline":"Windup Documentation","url":"https://windup.github.io/windup-documentation/docs/getting-started-guide/topics/mta-using-openrewrite-recipes/"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png">
  </head>
  <body>
    <header class="page-header">
        <h1>Windup Documentation</h1>
      
        <p><a href="https://github.com/windup/windup-documentation">View on GitHub</a></p>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="using-openrewrite-recipes_{context}">Using OpenRewrite recipes</h1>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>OpenRewrite recipe support is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>See <a href="{KBArticleTechnologyPreview}">Technology Preview features support scope</a> on the Red&nbsp;Hat Customer Portal for information about the support scope for Technology Preview features.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can refactor the source code of Java applications by using <a href="https://docs.openrewrite.org/">OpenRewrite</a> recipes with the {ProductShortName} CLI.</p>
</div>
<div class="paragraph">
<p>For example, the OpenRewrite recipe <code>org.jboss.windup.JavaxToJakarta</code> renames imported <code>javax</code> packages to their <code>jakarta</code> equivalents.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run <code>{mta-cli}</code>, specifying the recipe name, the path to the configuration file, and the application:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">$ ./{mta-cli} transform openrewrite --input &lt;/path/to/source/project&gt; \
  "-Drewrite.configLocation=&lt;path/to/rewrite.yaml&gt;"  \
  "-DactiveRecipes=&lt;recipe_name&gt;" --goal dryRun</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"-DactiveRecipes=&lt;recipe name&gt;"</code>: Specify the OpenRewrite recipe, for example, <code>org.jboss.windup.JavaxToJakarta</code>.</p>
</li>
<li>
<p><code>--input</code>: Specify the application to be refactored.  The application must be the top of the source code project containing a Maven Project Object Model (POM) XML file, <code>pom.xml</code>.</p>
</li>
<li>
<p><code>-Drewrite.configLocation=&lt;path/to/rewrite.yaml&gt;</code> : The location of the <code>rewrite.yaml</code> configuration file to use.
 The shipped <code>rewrite.yaml</code> configuration files are located in your
<code>&lt;{ProductShortName}_HOME&gt;/rules/openrewrite</code> subfolder, for example,<code>" -Drewrite.configLocation=&lt;{ProductShortName}_HOME&gt;/rules/openrewrite/jakarta/javax/imports/rewrite.yaml"</code>.</p>
</li>
<li>
<p><code>"-DactiveRecipes=&lt;recipe name&gt;"</code>: Specify the OpenRewrite recipe, for example, <code>org.jboss.windup.JavaxToJakarta</code>.</p>
<div class="paragraph">
<p>You can include more than one recipe by specifying each in the <code>activeRecipes</code> parameter. For example, to include the recipes <code>org.jboss.windup.JavaxInjectToJakartaInject</code> and <code>org.jboss.windup.JavaxEjbToJakartaEjb"</code>, enter the following for <code>"-DactiveRecipes=&lt;recipe name&gt;"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">  "-DactiveRecipes=org.jboss.windup.JavaxInjectToJakartaInject, \
    org.jboss.windup.JavaxEjbToJakartaEjb"</code></pre>
</div>
</div>
</li>
<li>
<p><code>--goal</code>: Optional: The OpenRewrite Maven goal to run.</p>
<div class="ulist">
<ul>
<li>
<p><code>dryRun</code> : The script returns a list of proposed changes. Ignore the <code>"Run 'mvn rewrite:run' to apply the recipes"</code> message.</p>
</li>
<li>
<p><code>run</code>: The script applies the changes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Run <code>{mta-cli}</code> with <code>--goal run</code> to apply the recipe:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">$ ./{mta-cli} transform openrewrite --input &lt;/path/to/source/project&gt; \
  "-Drewrite.configLocation=&lt;path/to/rewrite.yaml&gt;"  \
  "-DactiveRecipes=&lt;recipe_name&gt;" --goal run</code></pre>
</div>
</div>
</li>
</ol>
</div>

      <footer class="site-footer">
        <span class="site-footer-renderer"><p align="center"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-light.svg"></a></p></span>
        
          <span class="site-footer-owner"><p align="center"><a href="https://github.com/windup/windup-documentation">windup-documentation</a> is maintained by <a href="https://github.com/windup">windup</a>.</p></span>
        
      </footer>
    </main>
  </body>
</html>
